(function(e){function t(t){for(var a,i,s=t[0],c=t[1],u=t[2],m=0,p=[];m<s.length;m++)i=s[m],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1990:function(e,t,n){},"26bc":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e._m(0),n("main",[n("router-view")],1),n("footer",[e._v("© 2018-2019")]),n("Modal",{ref:"modal"})],1)},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("h1",[e._v("Siberian Test APP")])])}],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"myModal",staticClass:"modal",attrs:{id:"myModal"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"wrapImage"},[e.loading?[e._v(" Загрузка... ")]:[n("img",{attrs:{src:e.image.url,alt:""}})]],2),n("div",{staticClass:"wrapComments"},[e.loading?[e._v(" Загрузка... ")]:[e.image.comments&&e.image.comments.length?e._l(e.image.comments,(function(e,t){return n("Comment",{key:t,attrs:{comment:e}})})):[e._v(" Комментариев не найдено ")]]],2),n("div",{staticClass:"wrapForm"},[n("CommentForm")],1),n("button",{staticClass:"close",on:{click:e.close}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"#000000","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"bevel"}},[n("line",{attrs:{x1:"18",y1:"6",x2:"6",y2:"18"}}),n("line",{attrs:{x1:"6",y1:"6",x2:"18",y2:"18"}})])])])])},s=[],c=(n("96cf"),n("1da1")),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[n("div",{staticClass:"input-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{id:"name",type:"text",required:"",autocomplete:"off",minlength:"2",placeholder:"Ваше имя"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),n("label",{attrs:{for:"name"}},[e._v("Ваше имя")]),n("div",{staticClass:"input-wrap__status"})]),n("div",{staticClass:"input-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{id:"email",type:"email",required:"",autocomplete:"off",placeholder:"Ваша электронная почта"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),n("label",{attrs:{for:"email"}},[e._v("Ваша электронная почта")]),n("div",{staticClass:"input-wrap__status"})]),n("div",{staticClass:"input-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.comment,expression:"comment"}],attrs:{id:"comment",type:"text",required:"",autocomplete:"off",minlength:"5",placeholder:"Комментарий"},domProps:{value:e.comment},on:{input:function(t){t.target.composing||(e.comment=t.target.value)}}}),n("label",{attrs:{for:"comment"}},[e._v("Комментарий")]),n("div",{staticClass:"input-wrap__status"})]),n("button",{attrs:{type:"submit"}},[e._v("Отправить")])])},l=[],m=(n("b0c0"),{data:function(){return{name:null,email:null,comment:null}},methods:{submit:function(){this.$store.dispatch("ADD_COMMENT",{name:this.name,email:this.email,text:this.comment}),this.name=null,this.email=null,this.comment=null}}}),p=m,d=(n("c503"),n("2877")),f=Object(d["a"])(p,u,l,!1,null,"4a4a2250",null),v=f.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment"},[n("div",{staticClass:"comment__date"},[e._v(e._s(e.date))]),n("div",{staticClass:"comment__text"},[e._v(e._s(e.comment.text))])])},h=[],w=(n("fb6a"),{props:{comment:{type:Object,default:function(){}}},computed:{date:function(){var e=new Date(this.comment.date),t=("0"+e.getDate()).slice(-2),n=("0"+(e.getMonth()+1)).slice(-2),a=e.getFullYear();return t+"."+n+"."+a}}}),b=w,_=(n("820e"),Object(d["a"])(b,g,h,!1,null,"0825154e",null)),y=_.exports,x={components:{CommentForm:v,Comment:y},data:function(){return{loading:!1}},mounted:function(){return Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=document.getElementById("myModal"),window.onclick=function(e){e.target==t&&(t.style.display="none")};case 2:case"end":return e.stop()}}),e)})))()},computed:{image:function(e){var t=e.$store;return t.state.image}},methods:{open:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.loading=!0,document.body.style.overflow="hidden",t.$refs.myModal.style.display="block",n.next=5,t.$store.dispatch("GET_IMAGE",e);case 5:t.loading=!1;case 6:case"end":return n.stop()}}),n)})))()},close:function(){document.body.style.overflow="auto",this.$refs.myModal.style.display="none"}}},M=x,E=(n("f55a"),Object(d["a"])(M,i,s,!1,null,"6af1aaa2",null)),O=E.exports,C={metaInfo:{title:"Siberian",meta:[{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"}]},components:{Modal:O}},j=C,k=(n("5c0b"),Object(d["a"])(j,r,o,!1,null,null,null)),S=k.exports,T=n("8c4f"),$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("ul",e._l(e.images,(function(t,a){return n("li",{key:a},[n("img",{attrs:{src:t.url,alt:""},on:{click:function(n){return e.open(t.id)}}})])})),0),n("Modal",{ref:"modal"})],1)},A=[],D={name:"Home",components:{Modal:O},mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("GET_IMAGES");case 1:case"end":return t.stop()}}),t)})))()},computed:{images:function(e){var t=e.$store;return t.state.images}},methods:{open:function(e){this.$refs.modal.open(e)}}},G=D,P=(n("80f1"),Object(d["a"])(G,$,A,!1,null,"ead983b0",null)),R=P.exports;a["a"].use(T["a"]);var I=[{path:"/",name:"Home",component:R}],N=new T["a"]({base:"",routes:I}),F=N,q=n("2f62"),B=n("bc3a"),H=n.n(B);a["a"].use(q["a"]);var J=new q["a"].Store({state:{images:[],image:{}},mutations:{SET_IMAGES:function(e,t){e.images=t},SET_IMAGE:function(e,t){e.image=t},ADD_COMMENT:function(e,t){e.image.comments.push(t)}},actions:{GET_IMAGES:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,H.a.get("https://boiling-refuge-66454.herokuapp.com/images");case 3:a=t.sent,r=a.data,n("SET_IMAGES",r);case 6:case"end":return t.stop()}}),t)})))()},GET_IMAGE:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var a,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,n.next=3,H.a.get("https://boiling-refuge-66454.herokuapp.com/images/"+t);case 3:r=n.sent,o=r.data,a("SET_IMAGE",o);case 6:case"end":return n.stop()}}),n)})))()},ADD_COMMENT:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.state,r=e.commit,t.date=Date.now(),r("ADD_COMMENT",t),n.next=5,H.a.post("https://boiling-refuge-66454.herokuapp.com/images/"+a.image.id+"/comments",{name:t.name,comment:t.text});case 5:case"end":return n.stop()}}),n)})))()}},modules:{}}),Y=n("58ca");a["a"].use(Y["a"]),a["a"].config.productionTip=!1,new a["a"]({router:F,store:J,render:function(e){return e(S)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("9c0c"),r=n.n(a);r.a},"62d5":function(e,t,n){},"80f1":function(e,t,n){"use strict";var a=n("98d7"),r=n.n(a);r.a},"820e":function(e,t,n){"use strict";var a=n("26bc"),r=n.n(a);r.a},"98d7":function(e,t,n){},"9c0c":function(e,t,n){},c503:function(e,t,n){"use strict";var a=n("62d5"),r=n.n(a);r.a},f55a:function(e,t,n){"use strict";var a=n("1990"),r=n.n(a);r.a}});
//# sourceMappingURL=app.142a4a91.js.map